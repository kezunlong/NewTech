@model NewTech.Web.Models.ProjectViewModel

@{
    bool isEdit = Model.Project.Id != 0;
    string operation = isEdit ? "Edit Project:" : "Create New Project";
    ViewBag.Title = operation;
}

<script src="~/js/ckeditor/ckeditor.js"></script>


<h4>@operation @Model.Project.Name</h4>

<div class="panel panel-default">
    @using (Html.BeginForm("EditProject", "Admin", FormMethod.Post, new { @class = "form-horizontal", role = "form" }))
    {
        <div class="panel-body edit-form">
            @Html.ValidationSummary()
            @Html.HiddenFor(item => item.Project.Id)

            <div class="form-group">
                @Html.TextBoxWithLabelFor(item => item.Project.Name)
            </div>
            <div class="form-group">
                @Html.DropDownListWithLabelFor(item => item.Project.Category, Model.Categories.ToSelectListItems(x => x.Name, x => x.Id))
            </div>
            <div class="form-group">
                @Html.DropDownListWithLabelFor(item => item.Project.Customer, Model.Customers.ToSelectListItems(x => x.Name, x => x.Id.ToString()))
            </div>
            <div class="form-group">
                @Html.TextBoxWithLabelFor(item => item.Project.ThumbImage)
            </div>
            <div class="form-group">
                @Html.TextBoxWithLabelFor(item => item.Project.Description)
            </div>
            <div class="form-group">
                @Html.LabelFor(item => item.Project.Status, new { @class = "col-sm-2 control-label" })
                <div class="col-sm-4">
                    @Html.CheckBoxFor(item => item.Project.Status)
                </div>
            </div>
            <div class="form-group">
                @Html.TextBoxWithLabelFor(item => item.Project.Order)
            </div>
            <div class="form-group">
                @Html.TextAreaWithLabelFor(item => item.Project.Contents)
            </div>
            <script>
                // Replace the <textarea id="editor1"> with a CKEditor
                // instance, using default configuration.
                CKEDITOR.replace('Project_Contents');
            </script>


        </div>

        <div class="panel-footer text-center">
            <button type="submit" class="btn btn-primary">
                <span class="icon fa fa-save"></span>
                Save
            </button>
            @Html.ActionLink("Return", "Projects", null, new { @class = "btn btn-default" })
        </div>
    }
</div>
